metadata:
  name: hardhat-network
spec:
  template:
    metadata:
      labels:
        app: hardhat-network
    spec:
      volumes:
        - name: hh-configmap-volume
          configMap:
            name: hardhat-config-map
      containers:
      - name: hardhat-network
        image: smartcontract/hardhat-network
        volumeMounts:
          - name: hh-configmap-volume
            mountPath: /usr/app/hardhat.config.js
            subPath: hardhat.config.js
        ports:
        - containerPort: {{ .Networks.ethereum_hardhat.RPCPort }}
        readinessProbe:
          httpGet:
            path: /
            port: {{ .Networks.ethereum_hardhat.RPCPort }}
          periodSeconds: 2
