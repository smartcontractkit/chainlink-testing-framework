{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.14.0/.schema/devbox.schema.json",
  "packages": [
    "solc-select@1.0.4",
    "go-ethereum@1.13.5",
    "foundry@1.0.0",
    "git@latest",
    "go@latest",
    "goreleaser@latest",
    "postgresql@15",
    "python@latest",
    "curl@latest",
    "nodejs@18.20.4",
    "pnpm@latest",
    "yarn@1.22.19",
    "pre-commit@3.6.0",
    "go-mockery@latest",
    "gotools@latest",
    "gopls@latest",
    "delve@latest",
    "gh@latest",
    "jq@latest",
    "dasel@latest",
    "typos@latest",
    "awscli2@latest",
    "devspace@latest",
    "kubectl@latest",
    "kubernetes-helm@3.15.2",
    "k9s@latest",
    "actionlint@1.6.26",
    "golangci-lint@1.64.5"
  ],
  "shell": {
    "init_hook": [
      "echo 'inside devbox shell'"
    ],
    "scripts": {
      "seth-build-contracts": [
        "devbox run seth-solc",
        "cd seth && solc --abi --overwrite -o contracts/abi contracts/NetworkDebugContract.sol",
        "solc --bin --overwrite -o contracts/bin contracts/NetworkDebugContract.sol",
        "abigen --bin=contracts/bin/NetworkDebugContract.bin --abi=contracts/abi/NetworkDebugContract.abi --pkg=network_debug_contract --out=contracts/bind/NetworkDebugContract/NetworkDebugContract.go",
        "solc --abi --overwrite -o contracts/abi contracts/NetworkDebugSubContract.sol",
        "solc --bin --overwrite -o contracts/bin contracts/NetworkDebugSubContract.sol",
        "abigen --bin=contracts/bin/NetworkDebugSubContract.bin --abi=contracts/abi/NetworkDebugSubContract.abi --pkg=network_debug_sub_contract --out=contracts/bind/NetworkDebugSubContract/NetworkDebugSubContract.go",
        "solc --abi --overwrite -o contracts/abi contracts/TestContractOne.sol",
        "solc --bin --overwrite -o contracts/bin contracts/TestContractOne.sol",
        "abigen --bin=contracts/bin/TestContractOne.bin --abi=contracts/abi/TestContractOne.abi --pkg=unique_event_one --out=contracts/bind/TestContractOne/TestContractOne.go",
        "solc --abi --overwrite -o contracts/abi contracts/TestContractTwo.sol",
        "solc --bin --overwrite -o contracts/bin contracts/TestContractTwo.sol",
        "abigen --bin=contracts/bin/TestContractTwo.bin --abi=contracts/abi/TestContractTwo.abi --pkg=unique_event_two --out=contracts/bind/TestContractTwo/TestContractTwo.go"
      ],
      "seth-solc": [
        "cd seth && solc-select install 0.8.19",
        "solc-select use 0.8.19"
      ],
      "seth-anvil-sync": [
        "cd seth && anvil"
      ],
      "seth-anvil": [
        "cd seth && anvil > /dev/null 2>&1 &"
      ],
      "seth-geth": [
        "cd seth && rm -rf geth_data/geth",
        "geth init --datadir geth_data/ geth_data/clique_genesis.json",
        "geth --graphql --http --http.api admin,debug,web3,eth,txpool,personal,miner,net --http.corsdomain \"*\" --ws --ws.api admin,debug,web3,eth,txpool,personal,miner,net --ws.origins \"*\" --mine --miner.etherbase 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266 --unlock f39Fd6e51aad88F6F4ce6aB8827279cffFb92266 --allow-insecure-unlock --datadir ./geth_data --password geth_data/password.txt --nodiscover --vmdebug --networkid 1337 > /dev/null 2>&1 &"
      ],
      "seth-geth-sync": [
        "cd seth && rm -rf geth_data/geth",
        "geth init --datadir geth_data/ geth_data/clique_genesis.json",
        "geth --graphql --http --http.api admin,debug,web3,eth,txpool,personal,miner,net --http.corsdomain \"*\" --ws --ws.api admin,debug,web3,eth,txpool,personal,miner,net --ws.origins \"*\" --mine --miner.etherbase 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266 --unlock f39Fd6e51aad88F6F4ce6aB8827279cffFb92266 --allow-insecure-unlock --datadir ./geth_data --password geth_data/password.txt --nodiscover --vmdebug --networkid 1337"
      ],
      "seth-test-anvil": [
        "devbox run seth-anvil",
        "cd seth && SETH_URL=http://localhost:8545 SETH_NETWORK=anvil SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run TestSmoke || pkill -f anvil"
      ],
      "seth-test-geth": [
        "devbox run seth-geth",
        "cd seth && SETH_URL=http://localhost:8545 SETH_NETWORK=geth SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run TestSmoke || pkill -f geth"
      ],
      "seth-test-anvil-api": [
        "devbox run seth-anvil",
        "cd seth && SETH_URL=http://localhost:8545 SETH_NETWORK=anvil SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run TestAPI || pkill -f anvil"
      ],
      "seth-test-geth-api": [
        "devbox run seth-geth",
        "cd seth && SETH_URL=http://localhost:8545 SETH_NETWORK=geth SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run TestAPI || pkill -f geth"
      ],
      "seth-test-anvil-trace": [
        "devbox run seth-anvil",
        "cd seth && SETH_URL=http://localhost:8545 SETH_NETWORK=anvil SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run TestTrace || pkill -f anvil"
      ],
      "seth-test-geth-trace": [
        "devbox run seth-geth",
        "cd seth && SETH_URL=http://localhost:8545 SETH_NETWORK=geth SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run TestTrace || pkill -f geth"
      ],
      "seth-test-anvil-cli": [
        "devbox run seth-anvil",
        "cd seth && SETH_URL=http://localhost:8545 SETH_NETWORK=anvil SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run TestCLI || pkill -f anvil"
      ],
      "seth-test-geth-cli": [
        "devbox run seth-geth",
        "cd seth && SETH_URL=http://localhost:8545 SETH_NETWORK=geth SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run TestCLI || pkill -f geth"
      ],
      "seth-test-anvil-others": [
        "devbox run seth-anvil",
        "cd seth && SETH_URL=http://localhost:8545 SETH_CONFIG_PATH=\"seth.toml\" SETH_NETWORK=anvil SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run \"TestContractMap|TestGasEstimator|TestRPCHealthCheck|TestUtil|TestContract|TestConfig\" || pkill -f anvil"
      ],
      "seth-test-geth-others": [
        "devbox run seth-geth",
        "cd seth && SETH_URL=http://localhost:8545 SETH_CONFIG_PATH=\"seth.toml\" SETH_NETWORK=geth SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run \"TestContractMap|TestGasEstimator|TestRPCHealthCheck|TestUtil|TestContract|TestConfig\" || pkill -f geth"
      ],
      "seth-test-anvil-gas-bumping": [
        "devboz run seth-anvil",
        "cd seth && SETH_URL=http://localhost:8545 SETH_NETWORK=anvil SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run TestGasBumping || pkill -f anvil"
      ],
      "seth-test-geth-gas-bumping": [
        "devboz run seth-anvil",
        "cd seth && SETH_URL=http://localhost:8545 SETH_NETWORK=anvil SETH_ROOT_PRIVATE_KEY=ac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80 go test -v -count 1 -race `go list ./... | grep -v examples` -run TestGasBumping || pkill -f anvil"
      ],
      "wasp-test": [
        "cd wasp && go test -v -count 1 `go list ./... | grep -v examples` -run TestSmoke"
      ],
      "wasp-test-race": [
        "cd wasp && go test -v -race -count 1 `go list ./... | grep -v examples` -run TestSmoke"
      ],
      "wasp-test-benchspy": [
        "cd wasp && ./scripts/run_benchspy_tests.sh"
      ],
      "wasp-test-cover": [
        "cd wasp && go test -v -coverprofile cover.out -count 1 `go list ./... | grep -v examples` -run TestSmoke",
        "go tool cover -html cover.out"
      ],
      "wasp-test-loki": [
        "cd wasp && go test -v -count 1 `go list ./... | grep -v examples` -run TestPerfRenderLoki"
      ],
      "wasp-test-pyro-rps": [
        "cd wasp && go test -v -run TestPyroscopeLocalTraceRPSCalls -trace trace.out"
      ],
      "wasp-test-pyro-vu": [
        "cd wasp && go test -v -run TestPyroscopeLocalTraceVUCalls -trace trace.out"
      ],
      "wasp-dashboard": [
        "cd wasp && go run dashboard/cmd/main.go"
      ],
      "modgraph": [
        "go install github.com/jmank88/gomods@v0.1.5",
        "go install github.com/jmank88/modgraph@v0.1.0",
        "./modgraph > go.md"
      ],
      "install-loghelper": [
        "go install github.com/smartcontractkit/chainlink-testing-framework/tools/gotestloghelper@latest"
      ],
      "gomods-tidy": [
        "go install github.com/jmank88/gomods@v0.1.5",
        "gomods tidy"
      ],
      "gomods-tidy-ci": [
        "go install github.com/jmank88/gomods@v0.1.5",
        "gomods tidy",
        "git add --all",
        "git diff --minimal --cached --exit-code"
      ],
      "lint": [
        "devbox run workflowresultparser-lint",
        "devbox run asciitable-lint",
        "devbox run ghlatestreleasechecker-lint",
        "devbox run testlistgenerator-lint",
        "devbox run ecrimagefetcher-lint",
        "devbox run gotestloghelper-lint",
        "devbox run k8stestrunner-lint",
        "devbox run framework-lint",
        "devbox run parrot-lint",
        "devbox run wasp-lint",
        "devbox run seth-lint",
        "devbox run havoc-lint",
        "devbox run lib-lint"
      ],

      "workflowresultparser-lint": [
        "cd tools/asciitable && golangci-lint --color=always run -v -c ../../.golangci.yaml"
      ],
      "asciitable-lint": [
        "cd tools/asciitable/ && golangci-lint --color=always run -v -c ../../.golangci.yaml"
      ],
      "ghlatestreleasechecker-lint": [
        "cd tools/ghlatestreleasechecker/ && golangci-lint --color=always run -v -c ../../.golangci.yaml"
      ],
      "testlistgenerator-lint": [
        "cd tools/testlistgenerator/ && golangci-lint --color=always run -v -c ../../.golangci.yaml"
      ],
      "ecrimagefetcher-lint": [
        "cd tools/ecrimagefetcher/ && golangci-lint --color=always run -v -c ../../.golangci.yaml"
      ],
      "gotestloghelper-lint": [
        "cd tools/gotestloghelper/ && golangci-lint --color=always run -v -c ../../.golangci.yaml"
      ],

      "k8stestrunner-lint": [
        "cd k8s-test-runner/ && golangci-lint --color=always run -v -c ../.golangci.yaml"
      ],
      "framework-lint": [
        "cd framework/ && golangci-lint --color=always run -v -c ../.golangci.yaml"
      ],
      "parrot-lint": [
        "cd parrot/ && golangci-lint --color=always run -v -c ../.golangci.yaml"
      ],
      "wasp-lint": [
        "cd wasp/ && golangci-lint --color=always run -v -c ../.golangci.yaml"
      ],
      "seth-lint": [
        "cd seth/ && golangci-lint --color=always run -v -c ../.golangci.yaml"
      ],
      "havoc-lint": [
        "cd havoc/ && golangci-lint --color=always run -v -c ../.golangci.yaml"
      ],
      "lib-lint": [
        "cd lib/ && golangci-lint --color=always run -v -c ../.golangci.yaml"
      ],

      "lint-pre-commit": [
        "pre-commit run --hook-stage pre-commit --show-diff-on-failure --color=always"
      ]
    }
  }
}
